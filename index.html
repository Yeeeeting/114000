<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AMEE 2025 課程回顧</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', '微軟正黑體', sans-serif;
        }
        /* 主色調 */
        :root {
            --amee-red: #D9222D;
            --amee-blue: #003F87;
            --amee-light-blue: #F0F5FA;
            --amee-gray: #f3f4f6;
        }
        .bg-amee-red { background-color: var(--amee-red); }
        .text-amee-red { color: var(--amee-red); }
        .bg-amee-blue { background-color: var(--amee-blue); }
        .text-amee-blue { color: var(--amee-blue); }
        .bg-amee-light-blue { background-color: var(--amee-light-blue); }
        .bg-amee-gray { background-color: var(--amee-gray); }

        .sidebar-btn.active {
            background-color: var(--amee-red);
            color: white;
            font-weight: 600;
        }
         .sidebar-btn.active svg {
            color: white;
        }
        .takeaway-box {
            border-left: 4px solid var(--amee-red);
            background-color: #FEF2F2;
        }
    </style>
</head>
<body class="bg-amee-gray">

    <div class="flex flex-col md:flex-row min-h-screen">
        <!-- Sidebar -->
        <nav class="w-full md:w-64 bg-white p-4 md:p-6 shadow-lg md:fixed md:h-full overflow-y-auto">
            <div class="flex items-center mb-8">
                <div class="bg-amee-blue p-2 rounded-lg">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v11.494m-9-5.747h18" />
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.43,7.662l-2.828,2.828a1,1,0,0,1-1.414,0l-2.828-2.828" />
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.57,16.338l2.828-2.828a1,1,0,0,1,1.414,0l2.828,2.828" />
                    </svg>
                </div>
                <h1 class="text-xl font-bold text-amee-blue ml-3">AMEE 2025</h1>
            </div>
            <ul class="space-y-2" id="course-navigation">
                <!-- Navigation buttons will be injected here by JavaScript -->
            </ul>
        </nav>

        <!-- Main Content -->
        <main class="flex-1 md:ml-64 p-4 md:p-8 lg:p-12">
            <header class="mb-8">
                <!-- Header content will be dynamically updated -->
            </header>
            <div id="content-display" class="transition-all duration-300">
                <!-- Course content will be displayed here -->
            </div>

            <!-- Radar Chart Section -->
            <section id="radar-chart-section" class="mt-12 bg-white p-6 md:p-8 rounded-2xl shadow-md" style="display: none;">
                <h3 class="text-2xl font-bold text-gray-800 border-b-2 border-amee-red pb-4 mb-6">AMEE 2025 學習能力雷達圖</h3>
                <p class="text-gray-600 mb-6">此圖表綜合分析本次參與 AMEE 2025 所獲得的知識與技能提升。分數代表在各領域的深化程度（1-5分），5分表示透過多場次深入探討，已達可策略性應用的程度。</p>
                <div class="max-w-2xl mx-auto">
                    <canvas id="knowledgeRadarChart"></canvas>
                </div>
            </section>
            
            <!-- Summary and Application Section -->
            <section id="summary-section" class="mt-12 bg-white p-6 md:p-8 rounded-2xl shadow-md" style="display: none;">
                <h3 class="text-2xl font-bold text-gray-800 border-b-2 border-amee-red pb-4 mb-6">總結與院內應用策略</h3>
                <div class="space-y-8">
                    <!-- CBME & EPA -->
                    <div>
                        <h4 class="text-xl font-bold text-amee-blue mb-3">1. CBME 與 EPA 的整合應用</h4>
                        <div class="grid md:grid-cols-2 gap-6">
                            <div class="bg-amee-light-blue p-5 rounded-lg">
                                <h5 class="font-semibold text-gray-800 mb-2">知識總結</h5>
                                <p class="text-gray-600">應將 CBME 與 EPA 整合思考，核心目標是釐清臨床工作的關鍵任務，讓評量回歸「信任」與「學習」的本質。應減少無效評量表單，增加基於長期觀察與對話的高品質回饋。</p>
                            </div>
                            <div class="bg-amee-light-blue p-5 rounded-lg">
                                <h5 class="font-semibold text-gray-800 mb-2">院內應用方案</h5>
                                <ul class="list-disc list-inside text-gray-600 space-y-1">
                                    <li>推動 CBME 2.0：在高風險臨床活動試行 EPA，簡化評量流程。</li>
                                    <li>建立回饋文化：舉辦工作坊，訓練臨床教師如何進行有效的觀察與回饋對話。</li>
                                    <li>務實導入：參考台灣經驗，先由科部或專業學會小規模試行，再逐步擴大。</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <!-- AI in Education -->
                    <div>
                        <h4 class="text-xl font-bold text-amee-blue mb-3">2. AI 於醫學教育的策略性導入</h4>
                        <div class="grid md:grid-cols-2 gap-6">
                            <div class="bg-amee-light-blue p-5 rounded-lg">
                                <h5 class="font-semibold text-gray-800 mb-2">知識總結</h5>
                                <p class="text-gray-600">AI 虛擬病人可提供安全的溝通練習環境，尤其適用於標準化或難以安排真人的場景。AI 評量應被視為學習的「起點」，而非終點，用以指引學習方向。</p>
                            </div>
                            <div class="bg-amee-light-blue p-5 rounded-lg">
                                <h5 class="font-semibold text-gray-800 mb-2">院內應用方案</h5>
                                <ul class="list-disc list-inside text-gray-600 space-y-1">
                                    <li>建立 AI 練習室：為住院醫師導入 AI 溝通技巧模擬系統，進行初步演練。</li>
                                    <li>數據輔助教學：利用 AI 分析學習者的表現，提供個人化的學習建議與資源。</li>
                                    <li>教師增能：培訓教師如何解讀 AI 評量數據，並將其轉化為有效的教學回饋。</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <!-- Resilience & Well-being -->
                    <div>
                        <h4 class="text-xl font-bold text-amee-blue mb-3">3. 建立團隊韌性與支持系統</h4>
                        <div class="grid md:grid-cols-2 gap-6">
                            <div class="bg-amee-light-blue p-5 rounded-lg">
                                <h5 class="font-semibold text-gray-800 mb-2">知識總結</h5>
                                <p class="text-gray-600">正視「冒名頂替症候群」等內心壓力，是建立韌性的第一步。創造心理安全的環境至關重要。睡眠與運動是低成本、高效益的基礎建設。</p>
                            </div>
                            <div class="bg-amee-light-blue p-5 rounded-lg">
                                <h5 class="font-semibold text-gray-800 mb-2">院內應用方案</h5>
                                <ul class="list-disc list-inside text-gray-600 space-y-1">
                                    <li>推動「安心說」活動：定期舉辦非正式座談，讓成員分享工作中的不安與挑戰。</li>
                                    <li>導師制度優化：在導師訓練中加入心理安全與積極傾聽的元素。</li>
                                    <li>發起健康挑戰：鼓勵科室間進行睡眠、步數等健康促進競賽，營造正向氛圍。</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                     <!-- Empathy & Mindfulness -->
                     <div>
                        <h4 class="text-xl font-bold text-amee-blue mb-3">4. 深化同理心與正念文化</h4>
                        <div class="grid md:grid-cols-2 gap-6">
                            <div class="bg-amee-light-blue p-5 rounded-lg">
                                <h5 class="font-semibold text-gray-800 mb-2">知識總結</h5>
                                <p class="text-gray-600">「帶梯子下井」的比喻，精準定義了專業的同理心。Fringe 活動啟示，嚴肅的主題可用創意方式傳達，而正念呼吸是隨時可用的「重置鍵」。</p>
                            </div>
                            <div class="bg-amee-light-blue p-5 rounded-lg">
                                <h5 class="font-semibold text-gray-800 mb-2">院內應用方案</h5>
                                <ul class="list-disc list-inside text-gray-600 space-y-1">
                                    <li>引入「同理心工具語言」：將「帶梯子」等具象化比喻納入溝通課程。</li>
                                    <li>會議開場儀式：在會議或晨會開始前，由主席帶領一分鐘的正念呼吸。</li>
                                    <li>創意教學注入：鼓勵在教學活動中嘗試 Fringe 風格的短講或互動，提升參與感。</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script>
        const courseData = {
            '2W': {
                title: '工作坊: 在南半球國家實施 EPA 的挑戰與策略',
                type: 'Workshop',
                presenters: ['Gustavo Salata Romao', 'Olle ten Cate', 'Marije Hennus', 'Leila Niemi-Murola', 'Juliana Sa', 'Roberta Ladenheim'],
                content: `
                    <h4 class="text-lg font-semibold text-gray-700 mb-2">背景</h4>
                    <p class="text-gray-600 mb-4">EPAs (Entrustable Professional Activities) 是一套專業活動，用於指導培訓和評估受訓者是否準備好進行獨立的臨床實踐，為學習者和患者提供安全的環境。在許多南半球國家，醫學教育的目標是為初級保健中的獨立臨床實踐做準備，這與北半球國家不同。因此，這些國家在發展和實施研究生 EPAs 時必須遵循不同的路徑。</p>
                    <h4 class="text-lg font-semibold text-gray-700 mb-2">工作坊結構</h4>
                    <ul class="list-disc list-inside text-gray-600 space-y-2">
                        <li>開場與問卷調查 (10 分鐘)</li>
                        <li>三位講者分享南北半球 PGME 的對比、發展 EPAs 及實施技巧 (15 分鐘)</li>
                        <li>小組討論 (30 分鐘)</li>
                        <li>全體會議與成果總結 (20 分鐘)</li>
                        <li>問答與結論 (15 分鐘)</li>
                    </ul>`,
                takeaway: `
                    <p class="text-gray-700">這場工作坊最大的啟發是，不同國家的經驗讓我們重新思考評量的本質。重點在於減少無效的評量，增加有品質的回饋。信任的建立應基於長期的觀察、病例討論和實際回饋對話等多方面的證據，而不僅僅是一張評量表的結果。</p>`
            },
            '4D': {
                title: '研究論文: 評估 (二)',
                type: 'Research Papers',
                moderator: 'Damien Castanelli',
                presentations: [
                    { id: '4D1', title: '探討住院醫師培訓計畫中能力委員會成員多元性與程序', presenter: 'Susan Humphrey-Murto' },
                    { id: '4D2', title: '測驗增強學習中的反應過程有效性：設計與臨床推理一致的選擇題', presenter: 'Sally Binks' },
                    { id: '4D3', title: '為受訓的重症監護醫師設計的 EPA：透過基於能力的持續教育達到卓越', presenter: 'Felipe Barros' },
                    { id: '4D4', title: '利用共同調節學習的兩步驟流程優化醫學生的敘事回饋', presenter: 'Kelsey Miller' }
                ],
                takeaway: `
                    <p class="text-gray-700">研究發表將宏觀概念轉化為可操作的方案。其中一個關於同理心的比喻讓我印象深刻：真正的同理，不是陪著對方一起掉進情緒的井裡，而是帶著梯子下去幫他。這種說法很貼近臨床工作的節奏，能直接應用於新進人員的入職訓練和關懷機制中。</p>`
            },
            '4G': {
                title: '短篇報告: 人工智慧於醫學教育之應用',
                type: 'Short Communications',
                presentations: [
                    { id: '4G1', title: '實施 AI 驅動的虛擬病人於溝通技巧訓練：先導準備', presenter: 'Silas Taylor' },
                    { id: '4G2', title: '透過交叉研究將 AI 整合到 debriefing 課程中', presenter: 'Jui-Yuan Chung, Yu Chang' },
                    { id: '4G3', title: '評估大型語言模型在 OSCE 評估中的潛力', presenter: 'Prapaporn Suprasert' },
                    { id: '4G4', title: '利用機器學習為 PGY 評估提供個人化績效報告與職涯建議', presenter: 'Yang Ching Chen' },
                    { id: '4G5', title: '模擬醫病對話：使用 ChatGPT 支援醫學培訓', presenter: 'Arpita Saggar' },
                    { id: '4G6', title: 'ChatGPT 能評估非語言同理心嗎？', presenter: 'CHE-WEI LIN' }
                ],
                takeaway: `
                     <p class="text-gray-700">e-poster 中提到一種能模擬多人互動的AI臨床練習系統，提供了一個創新的練習場域。雖然AI有時應對較為制式，但在找不到真人練習時，它能幫助熟悉溝通流程。關鍵在於，AI評量不應被視為最終分數，而是一個起點，提醒學習者下一步該往哪裡努力。</p>`
            },
            '5E': {
                title: 'AMEE Fringe 活動',
                type: 'Fringe Session',
                moderator: 'Anne de la Croix',
                presentations: [
                    { id: '5E01', title: 'OSCE 前的平靜：將正念呼吸帶入教與學環境', presenter: 'Helen Chang' },
                    { id: '5E02', title: '如何讓評分規準進入你的海馬迴？', presenter: 'Jolanda Schieving' },
                    { id: '5E03', title: '彎曲不折斷：生活與皮拉提斯的平衡之術', presenter: 'Joyee Vachani' },
                    { id: '5E04', title: '臨床醫生與病患的受傷療癒者', presenter: 'Louise Younie' },
                    { id: '5E05', title: '醫學中的旋律', presenter: 'Jacqueline Jin' },
                    { id: '5E06', title: '醫學與寶萊塢的「舞蹈發現」', presenter: 'Shefali Acra' }
                ],
                takeaway: `
                     <p class="text-gray-700">Fringe 活動是此行的一大亮點。講者們將正念、皮拉提斯、評估量表等主題轉化為極富創意的表演，例如用脫口秀來呈現評估量表。活動最後帶領全場進行伸展與正念呼吸，提醒我們帶著清晰而不急躁的步伐回到工作崗位，並將這些可行的想法變成日常習慣。</p>`
            },
            '6J': {
                title: '短篇報告: 韌性 (Resilience)',
                type: 'Short Communications',
                moderator: 'Eeva Pyorala',
                presentations: [
                    { id: '6J01', title: '房間裡的冒牌者：承認與理解醫學生的冒名頂替症候群', presenter: 'Jacqueline O\'Dowd' },
                    { id: '6J02', title: 'Monash 慈悲訓練計畫：有效增加慈悲心並減少醫學生職業倦怠', presenter: 'Kate Owen' },
                    { id: '6J03', title: '入學時的毅力與醫學生成績呈正相關', presenter: 'Kumiko Yamaguchi' },
                    { id: '6J04', title: '韌性作為醫學生對抗職業倦怠的關鍵保護因子', presenter: 'Supanun Janeteerawong' },
                    { id: '6J05', 'title': '正向心理學干預對台灣 ICU 護理師韌性與職業倦怠的有效性', presenter: 'Hui-Hsin Huang' },
                    { id: '6J06', title: '「韌性」概念的起源與奧德賽：概念分析視角', presenter: 'Najoua Amélia Laajab' }
                ],
                takeaway: `
                    <p class="text-gray-700">關於「自我懷疑」的分享讓我深有同感。講者與資深醫師們坦誠說出自己的不安，讓這種普遍的心情能被正視。這啟發我在指導後進時，應先創造一個安全的環境，再談方法和資源，讓壓力找到健康的出口。此外，數據再次提醒我們睡眠和運動的重要性，這是我們可以立即帶回團隊，提升大家身心狀態的好方法。</p>`
            },
            '7B': {
                title: '研討會: 從全球各國國家級計畫中獲得的 CBME 洞見',
                type: 'Symposium',
                presenters: ['Glen Bandiera', 'Damon Dagnone', 'Lorena Cifuentes', 'Fedde Scheele', 'Lisa Howley', 'Fremen Chou'],
                content: `
                    <h4 class="text-lg font-semibold text-gray-700 mb-2">背景</h4>
                    <p class="text-gray-600 mb-4">基於能力的醫學教育 (CBME) 在全球範圍內獲得了顯著的發展動力。本研討會將探討五個處於不同 CBME 發展階段的國家—加拿大、美國、台灣、智利、荷蘭—的框架，突顯關鍵經驗、成功的實施策略以及持續成長的領域。</p>
                    <h4 class="text-lg font-semibold text-gray-700 mb-2">重要性</h4>
                    <p class="text-gray-600 mb-4">醫療品質和健康結果是全球性議題，需要對統一能力框架進行國際性討論。分享跨國家的見解可以促進對最佳實踐和潛在陷阱的更深層次理解。</p>
                     <h4 class="text-lg font-semibold text-gray-700 mb-2">核心訊息</h4>
                    <ul class="list-disc list-inside text-gray-600 space-y-2">
                        <li>能力框架對於使醫生能夠滿足不斷變化的社會期望至關重要。</li>
                        <li>儘管存在背景差異，但在世界範圍內推動國家級 CBME 計畫是可能的。</li>
                        <li>各國可以透過全球合作，應對 21 世紀的醫療挑戰。</li>
                    </ul>`,
                takeaway: `
                    <p class="text-gray-700">最大的收穫是確認了 (CBME) 以能力為本的訓練與 (EPA) 任務託付應結合思考。共同目標是釐清臨床工作的核心任務，讓評量回歸「信任」與「學習」。台灣的經驗顯示，由專業學會先行，政策再跟上，是務實的作法。這讓我更清楚，我們的焦點應是減少無效評量，增加有品質的回饋。</p>`
            }
        };

        const navigationContainer = document.getElementById('course-navigation');
        const contentDisplay = document.getElementById('content-display');
        const header = document.querySelector('header');

        function setActiveButton(activeId) {
            document.querySelectorAll('.sidebar-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.dataset.courseId === activeId) {
                    btn.classList.add('active');
                }
            });
        }

        function displayHomepage() {
            header.innerHTML = `
                <h2 class="text-3xl font-bold text-gray-800">AMEE 2025 學習總覽</h2>
                <p class="text-gray-500 mt-2">這是我在 AMEE 2025 參加的 ${Object.keys(courseData).length} 堂重點課程摘要。點擊卡片以深入了解各堂課的詳細筆記與心得。</p>
            `;

            let summaryHtml = '<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">';
            Object.entries(courseData).forEach(([courseId, course]) => {
                summaryHtml += `
                    <div data-course-id="${courseId}" class="summary-card bg-white p-6 rounded-xl shadow-md hover:shadow-xl hover:-translate-y-1.5 transform transition-all duration-300 cursor-pointer flex flex-col justify-between">
                        <div>
                            <div class="flex items-center mb-4">
                                <span class="bg-amee-red text-white text-sm font-bold mr-3 px-3 py-1 rounded-full">${courseId}</span>
                                <span class="text-amee-blue text-sm font-semibold tracking-wide">${course.type}</span>
                            </div>
                            <h4 class="text-lg font-bold text-gray-900 leading-tight" style="min-height: 5rem;">${course.title}</h4>
                        </div>
                        <div class="mt-4 text-right text-amee-blue font-bold text-sm">
                            查看詳情 &rarr;
                        </div>
                    </div>
                `;
            });
            summaryHtml += '</div>';
            contentDisplay.innerHTML = summaryHtml;
            contentDisplay.classList.remove('bg-white', 'p-6', 'md:p-8', 'rounded-2xl', 'shadow-md');
            document.getElementById('radar-chart-section').style.display = 'none';
            document.getElementById('summary-section').style.display = 'none';
        }

        function displayCourse(courseId) {
            const course = courseData[courseId];
            if (!course) return;

            header.innerHTML = `
                <h2 class="text-3xl font-bold text-gray-800">課程回顧</h2>
                <p class="text-gray-500 mt-2">您正在檢視 ${courseId}: ${course.type} 的詳細內容。</p>
            `;
            
            contentDisplay.classList.add('bg-white', 'p-6', 'md:p-8', 'rounded-2xl', 'shadow-md');

            let contentHtml = `
                <div class="border-b-2 border-amee-red pb-4 mb-6">
                    <span class="bg-amee-blue text-white text-sm font-medium mr-2 px-2.5 py-0.5 rounded">${course.type}</span>
                    <h3 class="text-2xl font-bold text-gray-800 mt-2">${course.title}</h3>
                    ${course.moderator ? `<p class="text-gray-500 mt-1">主持人: ${course.moderator}</p>` : ''}
                    ${course.presenters ? `<p class="text-gray-500 mt-1">主講人: ${course.presenters.join(', ')}</p>` : ''}
                </div>
            `;
            
            if (course.takeaway) {
                contentHtml += `
                    <div class="takeaway-box p-4 rounded-md mb-6">
                        <h4 class="text-lg font-bold text-amee-red mb-2">💡 重點心得</h4>
                        ${course.takeaway}
                    </div>
                `;
            }

            contentHtml += `<div class="space-y-6">`;

            if (course.presentations) {
                course.presentations.forEach(p => {
                    contentHtml += `
                        <div class="bg-amee-light-blue p-5 rounded-lg transition-shadow hover:shadow-md">
                            <h4 class="font-semibold text-amee-blue">${p.id ? p.id + ' - ' : ''}${p.title}</h4>
                            <p class="text-sm text-gray-600 mt-1">報告者: ${p.presenter}</p>
                        </div>
                    `;
                });
            }

            if (course.content) {
                contentHtml += `<div class="prose max-w-none">${course.content}</div>`;
            }

            contentHtml += `</div>`;
            contentDisplay.innerHTML = contentHtml;
            document.getElementById('radar-chart-section').style.display = 'none';
            document.getElementById('summary-section').style.display = 'none';
        }

        function displaySummary() {
            header.innerHTML = `
                <h2 class="text-3xl font-bold text-gray-800">學習總結與應用策略</h2>
                <p class="text-gray-500 mt-2">整合本次 AMEE 2025 的核心學習，並轉化為可執行的院內行動方案。</p>
            `;
            contentDisplay.innerHTML = '';
            contentDisplay.classList.remove('bg-white', 'p-6', 'md:p-8', 'rounded-2xl', 'shadow-md');
            document.getElementById('radar-chart-section').style.display = 'block';
            document.getElementById('summary-section').style.display = 'block';
        }

        // --- SCRIPT INITIALIZATION ---
        
        // 1. Populate navigation
        const homeLi = document.createElement('li');
        homeLi.innerHTML = `
            <button data-course-id="home" class="sidebar-btn w-full flex items-center p-3 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors duration-200">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-3 text-amee-red" viewBox="0 0 20 20" fill="currentColor"><path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z" /></svg>
                <span class="text-left flex-1 font-semibold">首頁總覽</span>
            </button>
        `;
        navigationContainer.appendChild(homeLi);

        Object.keys(courseData).forEach(courseId => {
            const course = courseData[courseId];
            const li = document.createElement('li');
            li.innerHTML = `
                <button data-course-id="${courseId}" class="sidebar-btn w-full flex items-center p-3 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors duration-200">
                     <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-3 text-amee-red" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                    </svg>
                    <span class="text-left flex-1">${courseId}: ${course.type}</span>
                </button>
            `;
            navigationContainer.appendChild(li);
        });

        const summaryLi = document.createElement('li');
        summaryLi.innerHTML = `
            <button data-course-id="summary" class="sidebar-btn w-full flex items-center p-3 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors duration-200">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-3 text-amee-red" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4" /></svg>
                <span class="text-left flex-1 font-semibold">總結與應用</span>
            </button>
        `;
        navigationContainer.appendChild(summaryLi);
        
        // 2. Setup event listeners
        navigationContainer.addEventListener('click', (e) => {
            const button = e.target.closest('.sidebar-btn');
            if(button) {
                const courseId = button.dataset.courseId;
                if (courseId === 'home') {
                    displayHomepage();
                } else if (courseId === 'summary') {
                    displaySummary();
                } else {
                    displayCourse(courseId);
                }
                setActiveButton(courseId);
            }
        });

        contentDisplay.addEventListener('click', (e) => {
            const card = e.target.closest('.summary-card');
            if(card) {
                const courseId = card.dataset.courseId;
                displayCourse(courseId);
                setActiveButton(courseId);
            }
        });

        // 3. Initial display on page load
        displayHomepage();
        setActiveButton('home');

        // 4. Initialize Radar Chart
        const ctx = document.getElementById('knowledgeRadarChart').getContext('2d');
        const knowledgeRadarChart = new Chart(ctx, {
            type: 'radar',
            data: {
                labels: [
                    'CBME & EPA 策略',
                    'AI 導入教學',
                    '韌性與身心健康',
                    '溝通與同理心',
                    '創新教學與評估',
                    '正念與自我關懷'
                ],
                datasets: [{
                    label: '知識提升程度',
                    data: [5, 5, 4, 4, 3, 3],
                    backgroundColor: 'rgba(217, 34, 45, 0.2)',
                    borderColor: 'rgba(217, 34, 45, 1)',
                    borderWidth: 2,
                    pointBackgroundColor: 'rgba(217, 34, 45, 1)',
                    pointBorderColor: '#fff',
                    pointHoverBackgroundColor: '#fff',
                    pointHoverBorderColor: 'rgba(217, 34, 45, 1)'
                }]
            },
            options: {
                scales: {
                    r: {
                        angleLines: {
                            color: '#e5e7eb'
                        },
                        grid: {
                            color: '#e5e7eb'
                        },
                        pointLabels: {
                            font: {
                                size: 14,
                                family: "'Inter', '微軟正黑體', sans-serif"
                            },
                            color: '#111827'
                        },
                        ticks: {
                            backdropColor: 'rgba(255, 255, 255, 0.75)',
                            stepSize: 1,
                            max: 5,
                            min: 0
                        }
                    }
                },
                plugins: {
                    legend: {
                        position: 'top',
                        labels: {
                             font: {
                                size: 14,
                                family: "'Inter', '微軟正黑體', sans-serif"
                            }
                        }
                    }
                },
                maintainAspectRatio: true
            }
        });
    </script>

</body>
</html>

